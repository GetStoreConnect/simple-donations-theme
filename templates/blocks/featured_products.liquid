<div
  class="SC-ContentBlock sc-featured-products"
  id="{% if content_block.identifier != blank %}SC-ContentBlock-{{ content_block.identifier }}{% endif %}"
  data-cb="{{ content_block.identifier }}">

  {%- if content_block.products.size > 4 %}
    <div class="sc-card-carousel">
      <div class="sc-card-carousel_header sc-ps-small sc-md:ps-base sc-lg:ps-large">
        {%- unless content_block.title == blank %}
          <h2 class="sc-card-carousel_heading">
            {{ content_block.title }}
          </h2>
        {%- endunless %}
        {%- if content_block.link_label != blank and content_block.link_target != blank %}
          <a href="{{ content_block.link_target }}" class="SC-Link">
            {{ content_block.link_label }}
          </a>
        {%- endif %}
      </div>

      <div class="sc-card-carousel_track sc-ps-small sc-md:ps-base sc-lg:ps-large">
        {%- for product in content_block.products %}
          <div class="sc-card-carousel_item">
            {%- cache "product", items: [product, current_store, current_customer] -%}
              {%- render "products/card", product: product %}
            {%- endcache -%}
          </div>
        {%- endfor %}
      </div>
    </div>
  {%- else %}
      <div class="sc-featured-products_header sc-ps-small sc-md:ps-base sc-lg:ps-large">
      {%- unless content_block.title == blank %}
        <h2 class="sc-featured-products_header_heading">
          {{ content_block.title }}
        </h2>
      {%- endunless %}
      {%- if content_block.link_label != blank and content_block.link_target != blank %}
        <a href="{{ content_block.link_target }}" class="SC-Link">
          {{ content_block.link_label }}
        </a>
      {%- endif %}
    </div>
    <div class="sc-featured-products_grid">
      {%- for product in content_block.products %}
        <div class="sc-grid_tem">
          {%- cache "product", items: [product, current_store, current_customer] -%}
            {%- render "products/card", product: product %}
          {%- endcache -%}
        </div>
      {%- endfor %}
    </div>
  {%- endif %}
</div>
